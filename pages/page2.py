import streamlit as st
from streamlit_quill import st_quill

# openai-setup.py

import os

# Check if the environment variable is accessible
x = print("API Key:", os.getenv("OPENAI_API_KEY"))

st.write("# Lesson Plan: Understanding Derivatives\n\n## Objective:\nStudents will understand the concept of derivatives, their geometric interpretation, and how to compute them using basic rules.\n\n## Introduction to Derivatives\n\n1. **Definition**\n   A derivative represents the rate of change of a function at a particular point. Mathematically, it is defined as:\n\n   $$\n   f'(x) = \\lim_{h \\to 0} \\frac{f(x + h) - f(x)}{h}\n   $$\n\n   This formula captures the idea of finding the slope of the tangent line to the curve at the point \\( x \\).\n\n2. **Geometric Interpretation**\n   - The derivative \\( f'(x) \\) can be interpreted as the slope of the tangent line to the graph of the function \\( f(x) \\) at the point \\( (x, f(x)) \\).\n   - If \\( f'(x) > 0 \\), the function is increasing at that point.\n   - If \\( f'(x) < 0 \\), the function is decreasing at that point.\n   - If \\( f'(x) = 0 \\), the function may have a local maximum, minimum, or point of inflection.\n\n## Basic Rules of Differentiation\n\nTo compute derivatives, there are several fundamental rules that can be applied:\n\n1. **Power Rule**:\n   If \\( f(x) = x^n \\), then the derivative is:\n\n   $$\n   f'(x) = nx^{n-1}\n   $$\n\n2. **Constant Rule**:\n   If \\( f(x) = c \\) (where \\( c \\) is a constant), then the derivative is:\n\n   $$\n   f'(x) = 0\n   $$\n\n3. **Sum Rule**:\n   If \\( f(x) = g(x) + h(x) \\), then the derivative is:\n\n   $$\n   f'(x) = g'(x) + h'(x)\n   $$\n\n4. **Difference Rule**:\n   If \\( f(x) = g(x) - h(x) \\), then the derivative is:\n\n   $$\n   f'(x) = g'(x) - h'(x)\n   $$\n\n5. **Product Rule**:\n   If \\( f(x) = g(x)h(x) \\), then the derivative is:\n\n   $$\n   f'(x) = g'(x)h(x) + g(x)h'(x)\n   $$\n\n6. **Quotient Rule**:\n   If \\( f(x) = \\frac{g(x)}{h(x)} \\), then the derivative is:\n\n   $$\n   f'(x) = \\frac{g'(x)h(x) - g(x)h'(x)}{[h(x)]^2}\n   $$\n\n7. **Chain Rule**:\n   If \\( f(x) = g(h(x)) \\), then the derivative is:\n\n   $$\n   f'(x) = g'(h(x)) \\cdot h'(x)\n   $$\n\n## Example Problems\n\n1. **Using the Power Rule**:\n   Find the derivative of \\( f(x) = x^3 - 5x + 2 \\).\n\n   Solution:\n   Using the power rule:\n   $$\n   f'(x) = 3x^2 - 5\n   $$\n\n2. **Using the Product Rule**:\n   Find the derivative of \\( f(x) = x^2 \\cdot \\sin(x) \\).\n\n   Solution:\n   Let \\( g(x) = x^2 \\) and \\( h(x) = \\sin(x) \\). Then we apply the product rule:\n   $$\n   f'(x) = g'(x)h(x) + g(x)h'(x) = (2x)(\\sin x) + (x^2)(\\cos x) = 2x \\sin x + x^2 \\cos x\n   $$\n\n3. **Using the Chain Rule**:\n   Find the derivative of \\( f(x) = (3x + 2)^4 \\).\n\n   Solution:\n   Let \\( g(u) = u^4 \\) and \\( h(x) = 3x + 2 \\), where \\( u = h(x) \\). Then,\n   $$\n   f'(x) = g'(h(x)) \\cdot h'(x) = 4(3x + 2)^3 \\cdot 3 = 12(3x + 2)^3\n   $$\n\n## Conclusion\n\n- Review the rules of differentiation and practice applying them to various functions.\n- Understand the geometric meaning of derivatives and how they relate to the behavior of functions.\n\n## Homework\n- Solve the following problems:\n  1. Differentiate \\( f(x) = 5x^4 - 2x^3 + x - 7 \\).\n  2. Differentiate \\( f(x) = e^x \\cdot \\ln(x) \\).\n  3. Find the derivative of \\( f(x) = \\sqrt{x^2 + 1} \\). \n\nBy practicing these problems, students will solidify their understanding of derivatives and how to compute them effectively.")